<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>tyrutils-ericw</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
  </head>
  <body>

    <div class="container">

      <div class="jumbotron">
        <h1>tyrutils-ericw</h1>
        <p>A branch of Tyrann's quake 1 tools <a href="http://disenchant.net/utils">tyrutils</a>, focused on adding lighting features</p>
        <p>Download v0.15.4:
          <div>
          <a class="btn btn-primary btn-lg" href="https://github.com/ericwa/tyrutils-ericw/releases/download/ericw-v0.15.4/tyrutils-ericw-v0.15.4-win32.zip" role="button">
            <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
            win32</a>
          <a class="btn btn-primary btn-lg" href="https://github.com/ericwa/tyrutils-ericw/releases/download/ericw-v0.15.4/tyrutils-ericw-v0.15.4-osx.zip" role="button">
            <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
            osx</a>
          <a class="btn btn-primary btn-lg" href="https://github.com/ericwa/tyrutils-ericw/archive/ericw-v0.15.4.tar.gz" role="button">
            <span class="glyphicon glyphicon-download" aria-hidden="true"></span>
            tgz</a>
          <a class="btn btn-default btn-lg" href="https://github.com/ericwa/tyrutils-ericw" role="button">
            github</a>
          <a class="btn btn-default btn-lg" href="https://github.com/ericwa/tyrutils-ericw/releases" role="button">
             changes</a>
          </div>
        </p>
        <p>
          Documentation:
          <div class="btn-group" role="group" aria-label="...">
            <a href="doc/qbsp.html" class="btn btn-default">qbsp</a>
            <a href="doc/vis.html" class="btn btn-default">vis</a>
            <a href="doc/light.html" class="btn btn-default">light</a>
            <a href="doc/bspinfo.html" class="btn btn-default">bspinfo</a>
            <a href="doc/bsputil.html" class="btn btn-default">bsputil</a>
            <a href="http://celephais.net/board/view_thread.php?id=61211" class="btn btn-default">discuss</a>
          </div>
        </p>
      </div>

      <h1>Features</h1>

      <h2>Bounce / radiosity</h2>

      <p>Bounce is enabled with the <code>-bounce</code> command-line option.</p>
      <p>Screeshots of ad_azad by mfx:
        (NOTE: This map also has some indirect lighting from <code>"_sunlight2_color" "0.5 0.56 1.00"</code> and <code>"_sunlight2" "190"</code>)</p>

      <div class="row">
        <!-- Tab panes -->
        <div class="col-md-10 tab-content">
          <div role="tabpanel" class="tab-pane active" id="bouncescale20">
            <div class="row">
              <div class="col-md-12">
                <img src="bouncescale2.0.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-bounce -bouncescale 2</code>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="bouncescale10">
            <div class="row">
              <div class="col-md-12">
                <img src="bouncescale1.0.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-bounce</code>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="bouncescale05">
            <div class="row">
              <div class="col-md-12">
                <img src="bouncescale0.5.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-bounce -bouncescale 0.5</code>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="bouncescale00">
            <div class="row">
              <div class="col-md-12">
                <img src="bouncescale0.0.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code></code>
              </div>
            </div>
          </div>
        </div>

        <!-- Nav tabs -->
        <ul class="col-md-2 nav nav-pills nav-stacked" role="tablist">
          <li role="presentation" class="active"><a href="#bouncescale20" aria-controls="bouncescale20" role="tab" data-toggle="tab">-bouncescale 2 (unrealistic)</a></li>
          <li role="presentation"><a href="#bouncescale10" aria-controls="bouncescale10" role="tab" data-toggle="tab">-bouncescale 1 (default)</a></li>
          <li role="presentation"><a href="#bouncescale05" aria-controls="bouncescale05" role="tab" data-toggle="tab">-bouncescale 0.5</a></li>
          <li role="presentation"><a href="#bouncescale00" aria-controls="bouncescale00" role="tab" data-toggle="tab">without bounce</a></li>
        </ul>
      </div>

      <h2>Phong shading</h2>

      <p>Phong shading is enabled on a brush entity using <code>"_phong" "1"</code>. 
      It can be used on <code>func_detail</code> or <code>func_group</code> with a supported qbsp, which writes a mapname.texinfo file.
      A modified txqbsp-xt build is available <a href="http://celephais.net/board/view_thread.php?id=60909&start=27">here</a>.
      </p>
      <p>Screenshot of ad_crucial by mfx:</p>

      <div class="row">
        <!-- Tab panes -->
        <div class="col-md-10 tab-content">
          <div role="tabpanel" class="tab-pane active" id="phong1">
            <div class="row">
              <div class="col-md-6">
                <img src="phong_1_normals.jpg" class="img-responsive" />
                <br>
                With <code>-phongdebug</code> to render normals to the lightmap.
              </div>
              <div class="col-md-6">
                <img src="phong_1_lightmap.jpg" class="img-responsive" />
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="phong0">
            <div class="row">
              <div class="col-md-6">
                <img src="phong_0_normals.jpg" class="img-responsive" />
                <br>
                With <code>-phongdebug</code> to render normals to the lightmap.
              </div>
              <div class="col-md-6">
                <img src="phong_0_lightmap.jpg" class="img-responsive" />
              </div>
            </div>
          </div>
        </div>

        <!-- Nav tabs -->
        <ul class="col-md-2 nav nav-pills nav-stacked" role="tablist">
          <li role="presentation" class="active"><a href="#phong1" aria-controls="phong1" role="tab" data-toggle="tab">"_phong" "1"</a></li>
          <li role="presentation"><a href="#phong0" aria-controls="phong0" role="tab" data-toggle="tab">without</a></li>
        </ul>
      </div>


      <h2>Ambient occlusion (aka dirtmapping)</h2>

      <p>The <code>-dirtdebug</code> flag causes the whole map to be lit at 50% gray, with ambient occlusion applied. It's good for previewing the AO settings.</p>
      <p><code>-dirtdepth</code> controls the distance tested for occlusion, in quake units. You can see at 512+ the palace rooms start to self-shadow.</p>
      <p><code>-dirtgain</code> controls the intensity of the dirt with an exponential scale while <code>-dirtscale</code> is a simple multiplier.</p>
      <p>Once you are happy with the command-line settings, you can transfer them to worldspawn keys; see the light documentation for details.</p>
      <p>Screeshots of <a href="http://www.simonoc.com/pages/design/sp/1000cuts.htm"><i>One Thousand Cuts</i></a> by <a href="http://www.simonoc.com">SimonOC</a>:</p>

      <div class="row">
        <!-- Tab panes -->
        <div class="col-md-10 tab-content">
          <div role="tabpanel" class="tab-pane active" id="dirtdefault">

            <div class="row">
              <div class="col-md-12">
                <img src="dirtdefault.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug</code>
              </div>
            </div>

          </div>
          <div role="tabpanel" class="tab-pane" id="dirtdepth_256">

            <div class="row">
              <div class="col-md-12">
                <img src="dirtdepth_256.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug -dirtdepth 256</code>
              </div>
            </div>

          </div>
          <div role="tabpanel" class="tab-pane" id="dirtdepth_512">

            <div class="row">
              <div class="col-md-12">
                <img src="dirtdepth_512.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug -dirtdepth 512</code>
              </div>
            </div>

          </div>
          <div role="tabpanel" class="tab-pane" id="dirtdepth_1024">

              <div class="row">
              <div class="col-md-12">
                <img src="dirtdepth_1024.jpg" class="img-responsive"  />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug -dirtdepth 1024</code>
              </div>
            </div>
          </div>

          <div role="tabpanel" class="tab-pane" id="dirtgain_075">

              <div class="row">
              <div class="col-md-12">
                <img src="dirtgain_0.75.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug -dirtgain 0.75</code>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="dirtgain_05">

              <div class="row">
              <div class="col-md-12">
                <img src="dirtgain_0.5.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug -dirtgain 0.5</code>
              </div>
            </div>
          </div>

          <div role="tabpanel" class="tab-pane" id="dirtmode_1">

              <div class="row">
              <div class="col-md-12">
                <img src="dirtmode_1_dirtgain_0.5.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug -dirtgain 0.5 -dirtmode 1</code>
              </div>
            </div>
          </div>

          <div role="tabpanel" class="tab-pane" id="dirtscale_15">

              <div class="row">
              <div class="col-md-12">
                <img src="dirtscale_1.5.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug -dirtscale 1.5</code>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="dirtscale_20">

              <div class="row">
              <div class="col-md-12">
                <img src="dirtscale_2.0.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-body">
                <code>-extra4 -dirt -dirtdebug -dirtscale 2.0</code>
              </div>
            </div>
          </div>
        </div>

        <!-- Nav tabs -->
        <ul class="col-md-2 nav nav-pills nav-stacked" role="tablist">
          <li role="presentation" class="active"><a href="#dirtdefault" aria-controls="dirtdefault" role="tab" data-toggle="tab">dirtdepth 128 (default)</a></li>
          <li role="presentation"><a href="#dirtdepth_256" aria-controls="dirtdepth_256" role="tab" data-toggle="tab">dirtdepth 256</a></li>
          <li role="presentation"><a href="#dirtdepth_512" aria-controls="dirtdepth_512" role="tab" data-toggle="tab">dirtdepth 512</a></li>
          <li role="presentation"><a href="#dirtdepth_1024" aria-controls="dirdirtdepth_1024" role="tab" data-toggle="tab">dirtdepth 1024</a></li>

          <li role="presentation"><a href="#dirtdefault" aria-controls="dirtdefault" role="tab" data-toggle="tab">dirtgain 1.0 (default)</a></li>
          <li role="presentation"><a href="#dirtgain_075" aria-controls="dirtgain_075" role="tab" data-toggle="tab">dirtgain 0.75</a></li>
          <li role="presentation"><a href="#dirtgain_05" aria-controls="dirtgain_05" role="tab" data-toggle="tab">dirtgain 0.5</a></li>

          <li role="presentation"><a href="#dirtmode_1" aria-controls="dirtmode_1" role="tab" data-toggle="tab">dirtgain 0.5, dirtmode 1</a></li>

          <li role="presentation"><a href="#dirtdefault" aria-controls="dirtdefault" role="tab" data-toggle="tab">dirtscale 1.0 (default)</a></li>
          <li role="presentation"><a href="#dirtscale_15" aria-controls="dirtscale_15" role="tab" data-toggle="tab">dirtscale 1.5</a></li>
          <li role="presentation"><a href="#dirtscale_20" aria-controls="dirtscale_20" role="tab" data-toggle="tab">dirtscale 2.0</a></li>
        </ul>
      </div>


      <h2>Sunlight</h2>

      <p>the new <code>_sunlight2</code> worldspawn key creates a hemisphere of suns around the level. It's good for avoiding pure black shadows in outdoor areas (fake indirect lighting).</p>

      <div class="row">
        <!-- Tab panes -->
        <div class="col-md-10 tab-content">
          <div role="tabpanel" class="tab-pane active" id="sunlight">
            <div class="row">
              <div class="col-md-6">
                <img src="a_sunlight.jpg" class="img-responsive" />
              </div>
              <div class="col-md-6">
                <img src="b_sunlight.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <pre><code>"_sunlight_color" "0.83 0.91 1.00"
"_sun_mangle" "60 -45 0"
"_sunlight" "300"
"_sunlight_penumbra" "4"</code></pre>
              </div>
            </div>

          </div>
          <div role="tabpanel" class="tab-pane" id="sunlight2">
            <div class="row">
              <div class="col-md-6">
                <img src="a_sunlight2.jpg" class="img-responsive" />
              </div>
              <div class="col-md-6">
                <img src="b_sunlight2.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <pre><code>"_sunlight2" "300"</code></pre>
              </div>
            </div>

          </div>
          <div role="tabpanel" class="tab-pane" id="sunlight_plus_sunlight2">
            <div class="row">
              <div class="col-md-6">
                <img src="a_sunlight_plus_sunlight2.jpg" class="img-responsive" />
              </div>
              <div class="col-md-6">
                <img src="b_sunlight_plus_sunlight2.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <pre><code>"_sunlight_color" "0.83 0.91 1.00"
"_sun_mangle" "60 -45 0"
"_sunlight" "300"
"_sunlight_penumbra" "4"
"_sunlight2" "300"</code></pre>
              </div>
            </div>

          </div>

        </div>

        <!-- Nav tabs -->
        <ul class="col-md-2 nav nav-pills nav-stacked" role="tablist">
          <li role="presentation" class="active"><a href="#sunlight" aria-controls="sunlight" role="tab" data-toggle="tab">sunlight</a></li>
          <li role="presentation"><a href="#sunlight2" aria-controls="sunlight2" role="tab" data-toggle="tab">sunlight2</a></li>
          <li role="presentation"><a href="#sunlight_plus_sunlight2" aria-controls="sunlight_plus_sunlight2" role="tab" data-toggle="tab">sunlight + sunlight2</a></li>
        </ul>
      </div>


      <h2>Sunlight penumbra</h2>

      <div class="row">
        <!-- Tab panes -->
        <div class="col-md-10 tab-content">
          <div role="tabpanel" class="tab-pane active" id="penumbra0">
            <img src="sunlight_penumbra_0.jpg" class="img-responsive" />
          </div>
          <div role="tabpanel" class="tab-pane" id="penumbra2">
            <img src="sunlight_penumbra_2.jpg" class="img-responsive" />
          </div>
          <div role="tabpanel" class="tab-pane" id="penumbra4">
            <img src="sunlight_penumbra_4.jpg" class="img-responsive" />
          </div>
          <div role="tabpanel" class="tab-pane" id="penumbra8">
            <img src="sunlight_penumbra_8.jpg" class="img-responsive"  />
          </div>
        </div>

        <!-- Nav tabs -->
        <ul class="col-md-2 nav nav-pills nav-stacked" role="tablist">
          <li role="presentation" class="active"><a href="#penumbra0" aria-controls="penumbra0" role="tab" data-toggle="tab">_sunlight_penumbra 0</a></li>
          <li role="presentation"><a href="#penumbra2" aria-controls="penumbra2" role="tab" data-toggle="tab">_sunlight_penumbra 2</a></li>
          <li role="presentation"><a href="#penumbra4" aria-controls="penumbra4" role="tab" data-toggle="tab">_sunlight_penumbra 4</a></li>
          <li role="presentation"><a href="#penumbra8" aria-controls="penumbra8" role="tab" data-toggle="tab">_sunlight_penumbra 8</a></li>
        </ul>
      </div>



      <h2>fake area lights (deviance)</h2>

      <p>
        <code>_deviance</code> lets you split a point light into several lights, so it casts softer shadows.
      </p>

      <div class="row">
        <!-- Tab panes -->
        <div class="col-md-10 tab-content">
          <div role="tabpanel" class="tab-pane active" id="deviance0">
            <div class="row">
              <div class="col-md-12">
                <img src="deviance_0.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <pre><code>{
"delay" "2"
"light" "600"
"origin" "376 0 408"
"classname" "light_globe"
}</code></pre>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="deviance24">
            <div class="row">
              <div class="col-md-12">
                <img src="deviance_24.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <pre><code>{
"_deviance" "24"
"delay" "2"
"light" "600"
"origin" "376 0 408"
"classname" "light_globe"
}</code></pre>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="deviance48">
            <div class="row">
              <div class="col-md-12">
                <img src="deviance_48.jpg" class="img-responsive" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <pre><code>{
"_deviance" "48"
"delay" "2"
"light" "600"
"origin" "376 0 408"
"classname" "light_globe"
}</code></pre>
              </div>
            </div>
          </div>
          <div role="tabpanel" class="tab-pane" id="deviance96">
            <div class="row">
              <div class="col-md-12">
                <img src="deviance_96.jpg" class="img-responsive"  />
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <pre><code>{
"_deviance" "96"
"delay" "2"
"light" "600"
"origin" "376 0 408"
"classname" "light_globe"
}</code></pre>
              </div>
            </div>
          </div>
        </div>

        <!-- Nav tabs -->
        <ul class="col-md-2 nav nav-pills nav-stacked" role="tablist">
          <li role="presentation" class="active"><a href="#deviance0" aria-controls="deviance0" role="tab" data-toggle="tab">regular light</a></li>
          <li role="presentation"><a href="#deviance24" aria-controls="deviance24" role="tab" data-toggle="tab">_deviance 24</a></li>
          <li role="presentation"><a href="#deviance48" aria-controls="deviance48" role="tab" data-toggle="tab">_deviance 48</a></li>
          <li role="presentation"><a href="#deviance96" aria-controls="deviance96" role="tab" data-toggle="tab">_deviance 96</a></li>
        </ul>
      </div>

      <h2>Surface lights</h2>

      <p>
        surface lights are good to quickly light a scene, especially if there are runic-style light fixtures. The shot below is lit entirely with one light entity.
      </p>

      <div class="row">
        <div class="col-md-10">
          <img src="surface.jpg" class="img-responsive" />
        </div>
      </div>

      <div class="row">
        <div class="col-md-10">
          <pre><code>{
"classname" "light"
"origin" "-640 -192 656" // ignored for surface lights
"delay" "2"
"light" "150"
"_color" "0.827111 0.908589 1.000000"
"_surface" "runes1a" // texture name
}</code></pre>
        </div>
      </div>

      <h2>Other Features</h2>
      <ul>
        <li>raytracing light through fence textures</li>
        <li>.lux output for deluxemapping in FTEQW</li>
        <li>gamma adjustment of the final lightmap <code>-gamma</code></li>
      </ul>

      <hr></hr>

      <h1><a href="https://github.com/ericwa/tyrutils-ericw#credits">Credits</a></h1>

      <hr></hr>

    </div>



    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
